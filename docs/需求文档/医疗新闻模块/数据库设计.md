# 医疗新闻模块数据库设计

## 表结构设计

### 1. 新闻分类表 (news_category)

| 字段名 | 类型 | 说明 | 约束 |
|-------|------|------|------|
| id | bigint | 主键ID | PRIMARY KEY, AUTO_INCREMENT |
| name | varchar(50) | 分类名称 | NOT NULL |
| description | varchar(255) | 分类描述 | |
| sort_order | int | 排序顺序 | DEFAULT 0 |
| status | tinyint | 状态(0禁用,1启用) | DEFAULT 1 |
| create_time | datetime | 创建时间 | DEFAULT CURRENT_TIMESTAMP |
| update_time | datetime | 更新时间 | DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP |

### 2. 医疗新闻表 (medical_news)

| 字段名 | 类型 | 说明 | 约束 |
|-------|------|------|------|
| id | bigint | 主键ID | PRIMARY KEY, AUTO_INCREMENT |
| title | varchar(100) | 新闻标题 | NOT NULL |
| content | text | 新闻内容 | NOT NULL |
| author | varchar(50) | 作者 | |
| category_id | bigint | 分类ID | FOREIGN KEY |
| cover_image | varchar(255) | 封面图片URL | |
| view_count | int | 浏览量 | DEFAULT 0 |
| status | tinyint | 状态(0草稿,1发布,2下架) | DEFAULT 0 |
| publish_time | datetime | 发布时间 | |
| create_time | datetime | 创建时间 | DEFAULT CURRENT_TIMESTAMP |
| update_time | datetime | 更新时间 | DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP |

### 3. 文章收藏表 (article_favorite)

| 字段名 | 类型 | 说明 | 约束 |
|-------|------|------|------|
| id | bigint | 主键ID | PRIMARY KEY, AUTO_INCREMENT |
| user_id | bigint | 用户ID | FOREIGN KEY, NOT NULL |
| article_id | bigint | 文章ID | FOREIGN KEY, NOT NULL |
| create_time | datetime | 创建时间 | DEFAULT CURRENT_TIMESTAMP |

### 4. 文章标签表 (article_tag)

| 字段名 | 类型 | 说明 | 约束 |
|-------|------|------|------|
| id | bigint | 主键ID | PRIMARY KEY, AUTO_INCREMENT |
| name | varchar(30) | 标签名称 | NOT NULL |
| create_time | datetime | 创建时间 | DEFAULT CURRENT_TIMESTAMP |

### 5. 文章标签关联表 (article_tag_relation)

| 字段名 | 类型 | 说明 | 约束 |
|-------|------|------|------|
| id | bigint | 主键ID | PRIMARY KEY, AUTO_INCREMENT |
| article_id | bigint | 文章ID | FOREIGN KEY, NOT NULL |
| tag_id | bigint | 标签ID | FOREIGN KEY, NOT NULL |

### 6. 文章疾病关联表 (article_illness_relation)

| 字段名 | 类型 | 说明 | 约束 |
|-------|------|------|------|
| id | bigint | 主键ID | PRIMARY KEY, AUTO_INCREMENT |
| article_id | bigint | 文章ID | FOREIGN KEY, NOT NULL |
| illness_id | bigint | 疾病ID | FOREIGN KEY, NOT NULL |

## 索引设计

1. 医疗新闻表(medical_news)
   - 创建category_id索引，优化按分类查询
   - 创建title索引，优化标题搜索
   - 创建publish_time索引，优化时间排序

2. 文章收藏表(article_favorite)
   - 创建user_id索引，优化用户收藏查询
   - 创建联合索引(user_id, article_id)，优化收藏状态查询

3. 文章标签关联表(article_tag_relation)
   - 创建article_id索引，优化文章标签查询
   - 创建tag_id索引，优化标签文章查询

## 表关系

1. news_category 1:N medical_news (一个分类下有多篇文章)
2. medical_news N:M article_tag (多篇文章可以有多个标签)
3. medical_news N:M user (多篇文章可以被多个用户收藏)
4. medical_news N:M illness (多篇文章可以关联多个疾病) 